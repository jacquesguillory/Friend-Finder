<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <title>Force Alignment Friend Finder Survey</title>
  <!-- Bootstrap and Jake Weary -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>

<style>
    label{
        font-weight: bold;
    }
</style>


<body>

    <div class="container">
        <div class="row">
            <div class="col-lg-12">

                <h1 style="margin:10px;">Jedi/Sith Friend Finder Survey</h1>
                 <hr>

                <form>
                    <h2>About You</h2>
                    <div class="form-group">
                        <label for="name-input">Name</label>
                        <input class="form-control" id="name-input" type="text">
                    </div>
                    <div class="form-group">
                        <label for="image-input">Link to Your Force Image</label>
                        <input class="form-control" id="image-input" type="text">
                    </div>

                    <hr>
                    <br>
                    <br>
                    <h3>Decide how much you agree with each statement:</h3>
                    <br>
                    <div class="form-group">
                        <label for="1">You only deal in absolutes.</label>
                        <select class="custom-select, form-control" id="0">
                            <option selected>Do you agree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <hr>

                    <div class="form-group">
                        <label for="2">You hate sand.</label>
                        <select class="custom-select, form-control" id="1">
                            <option selected>Do you agree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <hr>

                    <div class="form-group">
                        <label for="3">There's always a bigger fish.</label>
                        <select class="custom-select, form-control" id="2">
                            <option selected>Do you agree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <hr>

                    <div class="form-group">
                        <label for="4">Being granted a seat on the council, but not given the rank of Master would be outrageous and unfair.</label>
                        <select class="custom-select, form-control" id="3">
                            <option selected>Do you agree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <hr>

                    <div class="form-group">
                        <label for="5">If Tusken Raiders killed your mother, you would slaughter all of them.  Not just the men, but the women and children too.</label>
                        <select class="custom-select, form-control" id="4">
                            <option selected>Do you agree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <hr>

                    <div class="form-group">
                        <label for="6">In a space battle, your first thought is "This is where the fun begins."</label>
                        <select class="custom-select, form-control" id="5">
                            <option selected>Do you agree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <hr>

                    <div class="form-group">
                        <label for="7">If the legality of something comes into question, you would make it legal.</label>
                        <select class="custom-select, form-control" id="6">
                            <option selected>Do you agree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <hr>

                    <div class="form-group">
                        <label for="8">You've heard the tragedy of Darth Plagueis the Wise.</label>
                        <select class="custom-select, form-control" id="7">
                            <option selected>Do you agree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <hr>

                    <div class="form-group">
                        <label for="9">Episode 7 is extremely overrated and the only reason anyone likes it is because of nostalgia.  It made everything the characters acheived in the OT meaningless and the story was a straight rip off of episode 4. </label>
                        <select class="custom-select, form-control" id="8">
                            <option selected>Do you agree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <hr>

                    <div class="form-group">
                        <label for="10">Episode 8 looks terrible as well.  Disney has destroyed the franchise that you hold dear, and everyone is cheering for it except you.</label>
                        <select class="custom-select, form-control" id="9">
                            <option selected>Do you agree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <hr>

                    <button class="btn btn-primary btn-lg btn-block" id="add-friend-btn" type="submit" style="background-color:rgb(184, 129, 235)" data-toggle="modal" data-target="#myModal">Submit</button>

                </form>
                <!-- Modal -->
                <div id="myModal" class="modal fade" role="dialog">
                    <div class="modal-dialog">
                
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Your Best Force Match:</h4>
                        </div>
                        <div class="modal-body" id="match-name">
                            <!-- empty body -->
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                
                    </div>
                </div>
                 


                <hr>
                <br>
                <a href="/api/friends">List of current friends in the club   |</a>
                
                <a href="https://github.com/jacquesguillory/Friend-Finder">Github Repo</a>
                <br>
            </div>
        </div>
    </div>

    <!-- turning input to object and posting  -->
    <script type="text/javascript">
        $("#add-friend-btn").on("click", function(event){
            event.preventDefault();
            var newFriend = {
                name: $("#name-input").val().trim(),
                image: $("#image-input").val().trim(),
                score:[]
            };

            for(i=0; i<10; i++){
                newFriend.score[i] = $("#"+ i + "").val();
            }
            console.log(newFriend);
            JSON.stringify(newFriend);
        
            $.ajax({
                url: "/api/friends",
                type: "POST",
                data: JSON.stringify(newFriend),
                contentType: "application/json",
                complete: function(response){
                    console.log("data sent");
                    console.log(response.responseJSON);
                    console.log(response.responseJSON.name);
                    // populating modal popup
                    $("#match-name").html("");
                    $("#match-name").append("<p>" + response.responseJSON.name + "</p>");
                    $("#match-name").append("<img src='" + response.responseJSON.image + "'width='400' height='370'>");
                }
            });
        });
    </script>




</body>
</html>